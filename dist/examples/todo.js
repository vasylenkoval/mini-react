var T=[];var A=Symbol("propsCompareFn"),X="TEXT";function U(e,t=[]){for(let n of e){let o=typeof n;if(o==="object"&&n){Array.isArray(n)?U(n,t):t.push(n);continue}(o==="string"||o==="number")&&t.push({type:X,props:{nodeValue:n},children:T,key:null})}return t.length?t:T}function c(e,t,...n){let o=t??{},i=null;return n.length>0&&(i=U(n),o.children=i),{type:e,props:o,children:i,key:o.key!==void 0?o.key:null}}function ie(e){return e===X?document.createTextNode(""):document.createElement(e)}var se="children",re="on",J=e=>e.startsWith(re),V=e=>e!==se&&!J(e),B=e=>e.toLowerCase().substring(2),Y=e=>e==="className"?"class":e,ce=(e,t)=>e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t;function ue(e,t,n,o){if(t.nodeType===3){t.nodeValue!==n.nodeValue&&(t.nodeValue=n.nodeValue);return}let i=t;if(o){for(let s in o)if(!(s in n))if(V(s)){let r=Y(s);i.removeAttribute(r)}else J(s)&&i.removeEventListener(B(s),o[s])}for(let s in n){if(o&&n[s]===o[s])continue;let r=n[s];if(V(s)&&typeof r=="string"){let l=Y(s);ce(l,i)?i[l]=r:i.setAttribute(l,r)}else if(J(s)){let l=B(s);o&&o[s]&&i.removeEventListener(l,o[s]),i.addEventListener(l,n[s])}}i.__fiberRef=e}var _=globalThis.Node?.prototype,ae=_?.insertBefore,de=_?.removeChild,pe=_?.appendChild;function fe(e,t){de.call(e,t)}function me(e,t){pe.call(e,t)}function he(e,t){e.replaceWith(t)}function ye(e,t,n){ae.call(e,t,n)}var q={createNode:ie,addProps:ue,removeChild:fe,appendChild:me,replaceWith:he,insertBefore:ye};var k={hooks:[],notifyOnStateChange:()=>{},scheduleEffect:()=>{}},C=-1;function Q(e,t,n){for(let o of e)o.type===0&&o.pending&&(o.value=o.pending.value,o.pending=void 0);k.hooks=e,k.notifyOnStateChange=t,k.scheduleEffect=n,C=-1}function S(e){C++;let t=k.hooks[C];if(t)return t.notify=k.notifyOnStateChange,[t.value,t.setter];let n={type:0,notify:k.notifyOnStateChange,value:typeof e=="function"?e():e,setter(o){let i=n.pending?n.pending.value:n.value,s=typeof o=="function"?o:void 0,r=s?s(i):o;r!==i&&(n.pending={value:r},n.notify())}};return k.hooks.push(n),[n.value,n.setter]}function z(e){let t;for(let n of e)n.type===1&&n.cleanup&&(t??(t=[])).push(n.cleanup);return t}function ge(e){C++;let t=k.hooks[C];if(t)return t.value;let n={type:2,value:{current:e}};return k.hooks.push(n),n.value}function G(e,t,n){let o=ge({dispatch:void 0,initState:n?n(t):t}),[i,s]=S(o.current.initState);if(o.current.dispatch)return[i,o.current.dispatch];function r(l){s(a=>e(a,l))}return o.current.dispatch=r,[i,r]}function N(e){return e(Te)}function Te(){return 100}var $="root",v,L=[],p,ke,x=[],H=[],M=[],O=[],b=q,j=(e,t)=>!1;function I(){let e={key:null,children:T},t={parent:null,child:null,sibling:null,type:"",props:e,effectTag:0,old:null,isOld:!1,dom:null,stateNode:null,shouldPlace:!1,version:0,childElements:T,fromElement:{type:"",props:e,children:T,key:null},propsCompareFn:j};return t.stateNode={current:t,hooks:[]},t}function ee(e,t,n){n&&(b=n);let o=I();o.type=$,o.dom=e,o.props={key:null,children:[t]},o.fromElement={type:"div",props:o.props,children:[t],key:null},p=o,v=o,N(P)}function be(e){L.includes(e)||(L.push(e),N(P))}function Ee(e){return e.shouldPlace||e.effectTag!==3}function Fe(){for(let e of x)Ce(e);if(x=[],p){let e=p;for(;e;)Se(e),e=ne(e,p,Ee,e.effectTag===3);for(let t=O.length-1;t>=0;t--)O[t]();if(O.splice(0),p.type===$)ke=p;else{let t=p.old,n=p.parent,o=n.child;if(o===t)n.child=p;else for(;o;){if(o.sibling===t){o.sibling=p;break}o=o.sibling}}}p=null;for(let e=M.length-1;e>=0;e--)M[e]();M.splice(0);for(let e=H.length-1;e>=0;e--)H[e]();H.splice(0)}function D(e){return!!e.dom}function ve(e){return typeof e.type!="string"}function Ce(e){let t=e.dom??w(e,e,D)?.dom;t&&t.parentNode&&b.removeChild(t.parentNode,t);let n=e;for(;n;){if(n.stateNode.hooks.length){let o=z(n.stateNode.hooks);o&&M.push(...o.reverse())}n=w(n,e,ve)}e.effectTag=2,e.isOld=!0,e.old=null,e.child=null,e.sibling=null,e.parent=null,e.dom=null,e.stateNode=null,e.childElements=T}function Se(e){if(e.shouldPlace){let n=e.dom??w(e,e,D)?.dom;n&&O.push(()=>{let o=e.sibling?e.sibling?.dom??w(e.sibling,e,D)?.dom??null:null;n.nextSibling!=o&&b.insertBefore(n.parentNode,n,o)})}if(!(e.dom&&e.parent)||e.effectTag===3)return;let t=e.parent;for(;!t.dom;)t=t.parent;if(e.effectTag===1&&b.addProps(e,e.dom,e.props,e.old?.props||null),e.effectTag===0){let n=t.dom,o=e.dom;b.appendChild(n,o)}}function te(){if(!L.length)return null;let e=L.shift();if(e.isOld)return te();let t=I();t.type=e.type,t.parent=e.parent,t.child=e.child,t.sibling=e.sibling,t.old=e,t.isOld=!1,t.dom=e.dom;let n=e.stateNode;return t.stateNode=n,n.current=t,t.effectTag=1,t.shouldPlace=!1,t.props=e.props,t.version=e.version+1,t.childElements=e.childElements,t.fromElement=e.fromElement,t.propsCompareFn=e.propsCompareFn,e.old=null,e.isOld=!0,t}function P(e){let t=!1;for(;v&&!t;)v=Me(v),t=e()<1;!v&&p&&Fe();let n=te();if(n){p=n,v=p,N(P);return}p&&N(P)}function Ne(e){A in e.type&&e.type[A]&&(e.propsCompareFn=e.type[A]);let t,n,o=e.stateNode;Q(o.hooks,function(){be(o.current)},function(r,l){(t??(t=[])).push(r),l&&(n??(n=[])).push(l)});let i=e.type(e.props);e.childElements=[i],t&&H.push(...t.reverse()),n&&M.push(...n.reverse())}function xe(e){e.dom||(e.dom=b.createNode(e.type),b.addProps(e,e.dom,e.props,null)),e.childElements=e.fromElement.children??T}function Me(e){return typeof e.type=="string"&&xe(e),typeof e.type=="function"&&Ne(e),He(e,e.childElements),ne(e,p,Re)}function Re(e){return e.effectTag!==3}function Ae(){return!0}function ne(e,t,n=Ae,o=!1){if(!o&&e.child&&n(e.child))return e.child;let i=o?e:e.child??e;for(;i&&i!==t;){let s=i.sibling;for(;s;){if(n(s))return s;s=s.sibling}i=i.parent}return null}function K(e,t){let n=e;if(n.child)return n.child;for(;n&&n!==t;){let o=n.sibling;if(o)return o;n=n.parent}return null}function w(e,t,n){if(!e)return null;let o=K(e,t);for(;o;){if(n(o))return o;o=K(o,t)}return null}function He(e,t){if(!t.length&&e.dom&&e.parent&&e.old&&e.old.child){let d=e.old;x.push(d),e.old=null,e.effectTag=0,e.childElements=T,e.child=null,e.dom=b.createNode(e.type),b.addProps(e,e.dom,e.props,null);return}let n=e.old?.child??null,o=null,i=new Map,s=[],r=n,l=0;for(;r;){let d=r.fromElement.key??l;i.set(d,{fiber:r,oldListIdx:l}),s.push(r),r=r.sibling,l++}let a=!!n,u=[];for(let d=0;d<t.length;d++){let g=t[d],F=g.key??d,h=i.get(F),f=null;if(h){let{fiber:y,oldListIdx:le}=h;if(i.delete(F),y.type===g.type){if(f=Oe(g,e,y),u.push({fiber:f,oldListIdx:le}),y.fromElement===g||typeof g.type!="string"&&f.propsCompareFn?.(y.props,g.props)){f.effectTag=3,f.child=y.child;let R=y.child;for(;R;)R.parent=f,R=R.sibling}y.old=null,y.isOld=!0,y.sibling=null,y.parent=null}else x.push(y),f=Z(g,e),f.shouldPlace=a}else f=Z(g,e),f.shouldPlace=a;f&&(d===0?e.child=f:o.sibling=f,o=f)}if(i.forEach(d=>{x.push(d.fiber)}),!a)return;let m=u.map(d=>d.oldListIdx),E=Le(m);for(let d of E)u[d].fiber.shouldPlace=!0}function Z(e,t){let n=I();return n.type=e.type,n.parent=t,n.props=e.props,n.fromElement=e,n.effectTag=0,typeof e.type=="string"&&(n.propsCompareFn=j),n}function Oe(e,t,n){let o=I();o.type=e.type,o.parent=t,o.old=n,o.dom=n.dom,o.effectTag=1,o.props=e.props,o.version=n.version+1,o.fromElement=e,o.propsCompareFn=n.propsCompareFn;let i=n.stateNode;return i.current=o,o.stateNode=i,o}function Le(e){let t=e.length,n=new Uint32Array(t),o=[];for(let l=0;l<t;l++){let a=e[l],u=0,m=o.length;for(;u<m;){let E=u+m>>>1;o[E]<a?u=E+1:m=E}u===o.length?o.push(a):o[u]=a,n[l]=u+1}let i=new Uint8Array(t),s=o.length;for(let l=t-1;l>=0&&s>0;l--)n[l]===s&&(i[l]=1,s--);let r=[];for(let l=0;l<t;l++)i[l]||r.push(l);return r}function Pe(){return c("div",{className:"App"},c(Xe,null))}var W=0;function we({task:e,createTodo:t}){let[n,o]=G((r,l)=>({...r,...l}),{task:""}),i=r=>{console.log(r.target.value),o({[r.target.name]:r.target.value})};return c("form",{className:"NewTodoForm",onSubmit:r=>{r.preventDefault();let l={id:W++,task:n.task,completed:!1};t(l),o({task:""})}},c("label",{htmlFor:"task"},"New todo"),c("input",{value:n.task,onChange:i,id:"task",type:"text",name:"task",placeholder:"New Todo"}),c("button",null,"Add Todo"))}function Ie({key:e,todo:t,remove:n,update:o,toggleComplete:i}){let[s,r]=S(!1),[l,a]=S(t.task),u=h=>{n(h)},m=h=>{console.log(h),r(!s)},E=h=>{h.preventDefault(),o(t.id,l),m()},d=h=>{a(h.target.value)},g=h=>{i(h.target.id)},F;return s?F=c("div",{className:"Todo"},c("form",{className:"Todo-edit-form",onSubmit:E},c("input",{onChange:d,value:l,type:"text"}),c("button",null,"Save"))):(console.log(t.id),F=c("div",{className:"Todo"},c("li",{id:t.id,onClick:g,className:t.completed?"Todo-task completed":"Todo-task"},t.task),c("div",{className:"Todo-buttons"},c("button",{onClick:m},"Edit"),c("button",{onClick:()=>u(t.id)},"DELETE")))),F}function Xe(){let[e,t]=S([{id:W++,task:"task 1",completed:!1},{id:W++,task:"task 2",completed:!0}]),n=l=>{t([...e,l])},o=l=>{t(e.filter(a=>a.id!==l))},i=(l,a)=>{let u=e.map(m=>m.id===l?{...m,task:a}:m);t(u)},s=l=>{let a=e.map(u=>u.id===l?{...u,completed:!u.completed}:u);t(a)},r=e.map(l=>c(Ie,{toggleComplete:s,update:i,remove:o,key:l.id,todo:l}));return c("div",{className:"TodoList"},c("h1",null,"Todo List ",c("span",null,"A simple React Todo List App")),c("ul",null,r),c(we,{createTodo:n}))}var oe=document.getElementById("root");oe&&ee(oe,c(Pe,null));
