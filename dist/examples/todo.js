var y=[];var q=Symbol("propsCompareFn"),O="TEXT";function G(e,t=[]){for(let n of e){let o=typeof n;if(o==="object"&&n){Array.isArray(n)?G(n,t):t.push(n);continue}(o==="string"||o==="number")&&t.push({type:O,props:{nodeValue:n},children:y,key:null})}return t.length?t:y}function u(e,t,...n){let o=t??{},i=null;return n.length>0&&(i=G(n),o.children=i),{type:e,props:o,children:i,key:o.key!==void 0?o.key:null}}function de(e){return e===O?document.createTextNode(""):document.createElement(e)}var ae="children",pe="on",D=e=>e.startsWith(pe),Q=e=>e!==ae&&!D(e),z=e=>e.toLowerCase().substring(2),K=e=>e==="className"?"class":e,fe=(e,t)=>e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t;function he(e,t,n,o){if(t.nodeType===3){t.nodeValue!==n.nodeValue&&(t.nodeValue=n.nodeValue);return}let i=t;if(o){for(let l in o)if(!(l in n))if(Q(l)){let s=K(l);i.removeAttribute(s)}else D(l)&&i.removeEventListener(z(l),o[l])}for(let l in n){if(o&&n[l]===o[l])continue;let s=n[l];if(Q(l)&&typeof s=="string"){let r=K(l);fe(r,i)?i[r]=s:i.setAttribute(r,s)}else if(D(l)){let r=z(l);o&&o[l]&&i.removeEventListener(r,o[l]),i.addEventListener(r,n[l])}}i.__fiberRef=e}var W=globalThis.Node?.prototype,me=W?.insertBefore,ye=W?.removeChild,ge=W?.appendChild;function ke(e,t){ye.call(e,t)}function be(e,t){ge.call(e,t)}function Te(e,t){e.replaceWith(t)}function Fe(e,t,n){me.call(e,t,n)}var Z={createNode:de,addProps:he,removeChild:ke,appendChild:be,replaceWith:Te,insertBefore:Fe};var g={node:null,hooks:[],notify:()=>{}},_=0;function $(e,t,n){g.hooks=e,g.node=t,g.notify=n,_=0}function j(e,t,n){for(let o=e.length-1;o>=0;o--){let i=e[o];i.type===1&&(i.effect!==null&&(t.push(i.effect),i.effect=null),i.cleanup!==null&&i.changed&&(n.push(i.cleanup),i.cleanup=null,i.changed=!1))}}function F(e){let t=g.hooks[_++];if(t)return t.node=g.node,[t.value,t.setter];let n={type:0,node:g.node,value:typeof e=="function"?e():e,setter(o){let i=n.value,l=typeof o=="function"?o:void 0,s=l?l(i):o;i!==s&&(n.value=s,g.notify(n.node))}};return g.hooks.push(n),[n.value,n.setter]}function ee(e){let t;for(let n of e)n.type===1&&n.cleanup&&((t??(t=[])).push(n.cleanup),n.cleanup=null);return t}function ve(e){let t=g.hooks[_++];if(t)return t.value;let n={type:2,value:{current:e}};return g.hooks.push(n),n.value}function te(e,t,n){let o=ve({dispatch:void 0,initState:n?n(t):t}),[i,l]=F(o.current.initState);if(o.current.dispatch)return[i,o.current.dispatch];function s(r){l(a=>e(a,r))}return o.current.dispatch=s,[i,s]}function v(e){return e(Ee)}function Ee(){return 100}function ne(e){if(e===0)return"NoFlags";let t=[];return e&1&&t.push("Mounted"),e&4&&t.push("Moved"),e&8&&t.push("Skipped"),e&16&&t.push("Old"),t.join("|")}var oe="root",b,X=[],ie,f,T=[],H=[],S=[],R=[],k=Z,Se=!1;function J(){let e={key:null,children:y},t={parent:null,child:null,sibling:null,type:"",props:e,old:null,flags:0,dom:null,stateNode:null,children:y,from:{type:"",props:e,children:y,key:null},v:0};return Se&&Object.defineProperty(t,"_flags",{get(){return ne(this.flags)},enumerable:!1}),t.stateNode={current:t,hooks:[]},t}function se(e,t,n){n&&(k=n);let o=J();o.type=oe,o.dom=e,o.props={key:null,children:[t]},o.from={type:oe,props:o.props,children:[t],key:null},ie=o,f=o,b=o,v(I)}function Ce(e){let t=e.current;X.includes(t)||(X.push(t),v(I))}function Ne(e){return!!(e.flags&36)||!(e.flags&8)}function xe(){for(let e of T)He(e);if(T.splice(0),f){let e=f;for(;e;)Re(e),e=V(e,f,Ne,!!(e.flags&8));for(let t=R.length-1;t>=0;t--)R[t]();if(R.splice(0),f!==ie){let t=f.old,n=t.parent;if(n.child===t)n.child=f;else{let o=n.child;for(;o;){if(o.sibling===t){o.sibling=f;break}o=o.sibling}}}}f=null;for(let e=S.length-1;e>=0;e--)S[e]();S.splice(0);for(let e=H.length-1;e>=0;e--)H[e]();H.splice(0)}function B(e){return!!e.dom}function Me(e){return typeof e.type!="string"}function He(e){let t=e.dom??P(e,e,B)?.dom;t&&t.parentNode&&k.removeChild(t.parentNode,t);let n=e;for(;n;){if(n.stateNode.hooks.length){let o=ee(n.stateNode.hooks);o&&S.push(...o.reverse())}n=V(n,e,Me)}e.old=null,e.child=null,e.sibling=null,e.parent=null,e.dom=null,e.stateNode=null,e.children=y}function Re(e){if(e.flags&36){let t=e.dom??P(e,e,B)?.dom;t&&R.push(function(){let o=e.sibling?e.sibling?.dom??P(e.sibling,e,B)?.dom??null:null;t.nextSibling!=o&&k.insertBefore(t.parentNode,t,o)})}if(!(!(e.dom&&e.parent)||e.flags&8)&&(k.addProps(e,e.dom,e.props,e.old?.props||null),e.flags&1)){let t=e.parent;for(;!t.dom;)t=t.parent;let n=t.dom,o=e.dom;k.appendChild(n,o)}}function re(){if(!X.length)return null;let e=X.shift();if(e.flags&16)return re();let t=J();return t.type=e.type,t.parent=e.parent,t.child=e.child,t.sibling=e.sibling,t.old=e,t.dom=e.dom,t.props=e.props,t.v=e.v+1,t.children=e.children,t.from=e.from,t.stateNode=e.stateNode,t.stateNode.current=t,e.old=null,e.flags|=16,t}function I(e){let t=!1;for(;b&&!t;)b=Ie(b),t=e()<1;!b&&f&&xe();let n=re();if(n){f=n,b=f,v(I);return}f&&v(I)}function Ae(e){let t=e.stateNode;if(!(e.v===0||t.hooks.length>0)){e.children=[e.type(e.props)];return}$(t.hooks,t,Ce),e.children=[e.type(e.props)],j(t.hooks,H,S)}function Xe(e){e.dom||(e.dom=k.createNode(e.type)),e.children=e.from.children??y}function Ie(e){return typeof e.type=="string"&&Xe(e),typeof e.type=="function"&&Ae(e),e.flags&1?we(e,e.children):e.children.length===1?Je(e,e.children[0]):Oe(e,e.children),V(e,f,Le)}function Le(e){return!(e.flags&8)}function V(e,t,n,o=!1){if(!o&&e.child&&n(e.child))return e.child;let i=o?e:e.child??e;for(;i&&i!==t;){let l=i.sibling;for(;l;){if(n(l))return l;l=l.sibling}i=i.parent}return null}function le(e,t){let n=e;if(n.child)return n.child;for(;n&&n!==t;){let o=n.sibling;if(o)return o;n=n.parent}return null}function P(e,t,n){if(!e)return null;let o=le(e,t);for(;o;){if(n(o))return o;o=le(o,t)}return null}function we(e,t){let n=null;for(let o=0;o<t.length;o++){let i=t[o],l=L(i,e);o===0?e.child=l:n.sibling=l,n=l}}function Je(e,t){let n=e?.old?.child;if(!n||n.from.key!==t.key)e.child=L(t,e);else if(n){e.child=ce(t,e,n);let o=n.sibling;for(;o;)T.push(o),o=o.sibling}}function Oe(e,t){if(!t.length&&e.dom&&e.parent&&e.old&&e.old.child){let c=e.old;T.push(c),e.old=null,e.flags|=1,e.children=y,e.child=null,e.dom=k.createNode(e.type);return}let n=e.old?.child??null,o=null,i=new Map,l=n,s=0;for(;l;){let c=l.from.key??s;i.set(c,{fiber:l,oldListIdx:s}),l=l.sibling,s++}let r=[],a=[];for(let c=0;c<t.length;c++){let d=t[c],N=d.key??c,x=i.get(N),p=null;if(x){let{fiber:h,oldListIdx:m}=x;if(i.delete(N),h.type===d.type){if(p=ce(d,e,h),r.push(p),a.push(m),h.from===d||typeof d.type!="string"&&p.type?.[q]?.(h.props,d.props)){p.flags|=8,p.child=h.child;let M=h.child;for(;M;)M.parent=p,M=M.sibling}h.sibling=null,h.parent=null}else T.push(h),p=L(d,e),p.flags|=c>s?32:4}else p=L(d,e),p.flags|=c>s?32:4;p&&(c===0?e.child=p:o.sibling=p,o=p)}if(i.forEach(c=>{T.push(c.fiber)}),a.length){let c=De(a);for(let d=0;d<c.length;d++)r[c[d]].flags|=4}}function L(e,t){let n=J();return n.type=e.type,n.parent=t,n.props=e.props,n.from=e,n.flags|=1,n}function ce(e,t,n){let o=J();return o.type=e.type,o.parent=t,o.old=n,o.dom=n.dom,n.flags|=16,o.props=e.props,o.v=n.v+1,o.from=e,o.stateNode=n.stateNode,o.stateNode.current=o,o}function De(e){if(e.length===0)return[];let t=[e[0]],n=[1];for(let l=1;l<e.length;l++){let s=e[l];if(s>=t[t.length-1])t.push(s),n.push(t.length);else if(s<=t[0])t[0]=s,n.push(1);else{let r=1,a=t.length-1;for(;r<a;){let c=r+a>>>1;t[c]<s?r=c+1:a=c}t[r]=s,n.push(r+1)}}let o=t.length,i=[];for(let l=e.length-1;l>=0;l--)n[l]===o&&o>0?o--:i.push(l);return i}function We(){return u("div",{className:"App"},u(Be,null))}var Y=0;function _e({task:e,createTodo:t}){let[n,o]=te((s,r)=>({...s,...r}),{task:""}),i=s=>{console.log(s.target.value),o({[s.target.name]:s.target.value})};return u("form",{className:"NewTodoForm",onSubmit:s=>{s.preventDefault();let r={id:Y++,task:n.task,completed:!1};t(r),o({task:""})}},u("label",{htmlFor:"task"},"New todo"),u("input",{value:n.task,onChange:i,id:"task",type:"text",name:"task",placeholder:"New Todo"}),u("button",null,"Add Todo"))}function Ue({key:e,todo:t,remove:n,update:o,toggleComplete:i}){let[l,s]=F(!1),[r,a]=F(t.task),c=m=>{n(m)},d=m=>{console.log(m),s(!l)},N=m=>{m.preventDefault(),o(t.id,r),d()},x=m=>{a(m.target.value)},p=m=>{i(m.target.id)},h;return l?h=u("div",{className:"Todo"},u("form",{className:"Todo-edit-form",onSubmit:N},u("input",{onChange:x,value:r,type:"text"}),u("button",null,"Save"))):(console.log(t.id),h=u("div",{className:"Todo"},u("li",{id:t.id,onClick:p,className:t.completed?"Todo-task completed":"Todo-task"},t.task),u("div",{className:"Todo-buttons"},u("button",{onClick:d},"Edit"),u("button",{onClick:()=>c(t.id)},"DELETE")))),h}function Be(){let[e,t]=F([{id:Y++,task:"task 1",completed:!1},{id:Y++,task:"task 2",completed:!0}]),n=r=>{t([...e,r])},o=r=>{t(e.filter(a=>a.id!==r))},i=(r,a)=>{let c=e.map(d=>d.id===r?{...d,task:a}:d);t(c)},l=r=>{let a=e.map(c=>c.id===r?{...c,completed:!c.completed}:c);t(a)},s=e.map(r=>u(Ue,{toggleComplete:l,update:i,remove:o,key:r.id,todo:r}));return u("div",{className:"TodoList"},u("h1",null,"Todo List ",u("span",null,"A simple React Todo List App")),u("ul",null,s),u(_e,{createTodo:n}))}var ue=document.getElementById("root");ue&&se(ue,u(We,null));
