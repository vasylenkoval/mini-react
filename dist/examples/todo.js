var y=[];var R=Symbol("propsCompareFn"),P="TEXT";function V(e,t=[]){for(let n of e){let o=typeof n;if(o==="object"&&n){Array.isArray(n)?V(n,t):t.push(n);continue}(o==="string"||o==="number")&&t.push({type:P,props:{nodeValue:n},children:y,key:null})}return t.length?t:y}function d(e,t,...n){let o=t??{},i=null;return n.length>0&&(i=V(n),o.children=i),{type:e,props:o,children:i,key:o.key!==void 0?o.key:null}}function le(e){return e===P?document.createTextNode(""):document.createElement(e)}var ie="children",se="on",w=e=>e.startsWith(se),B=e=>e!==ie&&!w(e),U=e=>e.toLowerCase().substring(2),Y=e=>e==="className"?"class":e,re=(e,t)=>e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t;function de(e,t,n,o){if(t.nodeType===3){t.nodeValue!==n.nodeValue&&(t.nodeValue=n.nodeValue);return}let i=t;if(o){for(let l in o)if(!(l in n))if(B(l)){let r=Y(l);i.removeAttribute(r)}else w(l)&&i.removeEventListener(U(l),o[l])}for(let l in n){if(o&&n[l]===o[l])continue;let r=n[l];if(B(l)&&typeof r=="string"){let s=Y(l);re(s,i)?i[s]=r:i.setAttribute(s,r)}else if(w(l)){let s=U(l);o&&o[l]&&i.removeEventListener(s,o[l]),i.addEventListener(s,n[l])}}i.__fiberRef=e}var J=globalThis.Node?.prototype,ce=J?.insertBefore,ae=J?.removeChild,ue=J?.appendChild;function pe(e,t){ae.call(e,t)}function fe(e,t){ue.call(e,t)}function me(e,t){e.replaceWith(t)}function he(e,t,n){ce.call(e,t,n)}var q={createNode:le,addProps:de,removeChild:pe,appendChild:fe,replaceWith:me,insertBefore:he};var T={hooks:[],notifyOnStateChange:()=>{},scheduleEffect:()=>{}},F=-1;function Q(e,t,n){for(let o of e)o.type===0&&o.pending&&(o.value=o.pending.value,o.pending=void 0);T.hooks=e,T.notifyOnStateChange=t,T.scheduleEffect=n,F=-1}function v(e){F++;let t=T.hooks[F];if(t)return t.notify=T.notifyOnStateChange,[t.value,t.setter];let n={type:0,notify:T.notifyOnStateChange,value:typeof e=="function"?e():e,setter(o){let i=n.pending?n.pending.value:n.value,l=typeof o=="function"?o:void 0,r=l?l(i):o;r!==i&&(n.pending={value:r},n.notify())}};return T.hooks.push(n),[n.value,n.setter]}function z(e){let t;for(let n of e)n.type===1&&n.cleanup&&(t??(t=[])).push(n.cleanup);return t}function ye(e){F++;let t=T.hooks[F];if(t)return t.value;let n={type:2,value:{current:e}};return T.hooks.push(n),n.value}function G(e,t,n){let o=ye({dispatch:void 0,initState:n?n(t):t}),[i,l]=v(o.current.initState);if(o.current.dispatch)return[i,o.current.dispatch];function r(s){l(p=>e(p,s))}return o.current.dispatch=r,[i,r]}function C(e){return e(ge)}function ge(){return 100}var $="root",b,O=[],a,Te,S=[],A=[],N=[],H=[],k=q,j=(e,t)=>!1;function X(){let e={key:null,children:y},t={parent:null,child:null,sibling:null,type:"",props:e,effectTag:0,old:null,isOld:!1,dom:null,stateNode:null,didChangePos:!1,version:0,childElements:y,fromElement:{type:"",props:e,children:y,key:null},propsCompareFn:j};return t.stateNode={current:t,hooks:[]},t}function ee(e,t,n){n&&(k=n);let o=X();o.type=$,o.dom=e,o.props={key:null,children:[t]},o.fromElement={type:"div",props:o.props,children:[t],key:null},a=o,b=o,C(L)}function ke(e){O.includes(e)||(O.push(e),C(L))}function Ee(e){return e.didChangePos||e.effectTag!==3}function be(){for(let e of S)ve(e);if(S=[],a){let e=a;for(;e;)Ce(e),e=ne(e,a,Ee,e.effectTag===3);for(let t=H.length-1;t>=0;t--)H[t]();if(H.splice(0),a.type===$)Te=a;else{let t=a.old,n=a.parent,o=n.child;if(o===t)n.child=a;else for(;o;){if(o.sibling===t){o.sibling=a;break}o=o.sibling}}}a=null;for(let e=N.length-1;e>=0;e--)N[e]();N.splice(0);for(let e=A.length-1;e>=0;e--)A[e]();A.splice(0)}function _(e){return!!e.dom}function Fe(e){return typeof e.type!="string"}function ve(e){let t=e.dom??I(e,e,_)?.dom;t&&t.parentNode&&k.removeChild(t.parentNode,t);let n=e;for(;n;){if(n.stateNode.hooks.length){let o=z(n.stateNode.hooks);o&&N.push(...o.reverse())}n=I(n,e,Fe)}e.effectTag=2,e.isOld=!0,e.old=null,e.child=null,e.sibling=null,e.parent=null,e.dom=null,e.stateNode=null,e.childElements=y}function Ce(e){if(e.didChangePos){let n=e.dom??I(e,e,_)?.dom;if(n){let o=e.sibling?e.sibling?.dom??I(e.sibling,e,_)?.dom??null:null;H.push(()=>{n.nextSibling!==o&&k.insertBefore(n.parentNode,n,o)})}}if(!(e.dom&&e.parent)||e.effectTag===3)return;let t=e.parent;for(;!t.dom;)t=t.parent;if(e.effectTag===1&&k.addProps(e,e.dom,e.props,e.old?.props||null),e.effectTag===0){let n=t.dom,o=e.dom;k.appendChild(n,o)}}function te(){if(!O.length)return null;let e=O.shift();if(e.isOld)return te();let t=X();t.type=e.type,t.parent=e.parent,t.child=e.child,t.sibling=e.sibling,t.old=e,t.isOld=!1,t.dom=e.dom;let n=e.stateNode;return t.stateNode=n,n.current=t,t.effectTag=1,t.didChangePos=!1,t.props=e.props,t.version=e.version+1,t.childElements=e.childElements,t.fromElement=e.fromElement,t.propsCompareFn=e.propsCompareFn,e.old=null,e.isOld=!0,t}function L(e){let t=!1;for(;b&&!t;)b=xe(b),t=e()<1;!b&&a&&be();let n=te();if(n){a=n,b=a,C(L);return}a&&C(L)}function Se(e){R in e.type&&e.type[R]&&(e.propsCompareFn=e.type[R]);let t,n,o=e.stateNode;Q(o.hooks,function(){ke(o.current)},function(r,s){(t??(t=[])).push(r),s&&(n??(n=[])).push(s)});let i=e.type(e.props);e.childElements=[i],t&&A.push(...t.reverse()),n&&N.push(...n.reverse())}function Ne(e){e.dom||(e.dom=k.createNode(e.type),k.addProps(e,e.dom,e.props,null)),e.childElements=e.fromElement.children??y}function xe(e){return typeof e.type=="string"&&Ne(e),typeof e.type=="function"&&Se(e),Ae(e,e.childElements),ne(e,a,Me)}function Me(e){return e.effectTag!==3}function Re(){return!0}function ne(e,t,n=Re,o=!1){if(!o&&e.child&&n(e.child))return e.child;let i=o?e:e.child??e;for(;i&&i!==t;){let l=i.sibling;for(;l;){if(n(l))return l;l=l.sibling}i=i.parent}return null}function K(e,t){let n=e;if(n.child)return n.child;for(;n&&n!==t;){let o=n.sibling;if(o)return o;n=n.parent}return null}function I(e,t,n){if(!e)return null;let o=K(e,t);for(;o;){if(n(o))return o;o=K(o,t)}return null}function Ae(e,t){if(!t.length&&e.dom&&e.parent&&e.old&&e.old.child){let u=e.old;S.push(u),e.old=null,e.effectTag=0,e.childElements=y,e.child=null,e.dom=k.createNode(e.type),k.addProps(e,e.dom,e.props,null);return}let n=e.old?.child??null,o=null,i=0,l=new Map,r=[],s=n,p=0;for(;s;){let u=s.fromElement.key??p;l.set(u,{fiber:s,oldListIdx:p}),r.push(s),s=s.sibling,p++}let f=[];for(let u=0;u<t.length;u++){let h=t[u],x=h.key??u,E=l.get(x),c=null;if(E){let{fiber:m,oldListIdx:W}=E;if(l.delete(x),f.push(W),m.type===h.type){if(c=Oe(h,e,m),c.didChangePos=u!==W,m.fromElement===h||typeof h.type!="string"&&c.propsCompareFn?.(m.props,h.props)){c.effectTag=3,c.child=m.child;let M=m.child;for(;M;)M.parent=c,M=M.sibling}m.old=null,m.isOld=!0,m.sibling=null,m.parent=null}else S.push(m),c=Z(h,e)}else c=Z(h,e);c&&(i===0?e.child=c:o.sibling=c,o=c,i++)}l.forEach(u=>{S.push(u.fiber)});let g=He(f);if(g.length)for(let u of g)r[u].didChangePos=!0}function He(e){if(e.length===0)return[];let t=[e[0]],n=[];for(let o=1;o<e.length;o++){let i=e[o];if(i>t[t.length-1])t.push(i);else{let l=0,r=t.length-1;for(;l<r;){let s=l+r>>>1;t[s]<i?l=s+1:r=s}n.push(t[l]),t[l]=i}}return n}function Z(e,t){let n=X();return n.type=e.type,n.parent=t,n.props=e.props,n.fromElement=e,n.effectTag=0,typeof e.type=="string"&&(n.propsCompareFn=j),n}function Oe(e,t,n){let o=X();o.type=e.type,o.parent=t,o.old=n,o.dom=n.dom,o.effectTag=1,o.props=e.props,o.version=n.version+1,o.fromElement=e,o.propsCompareFn=n.propsCompareFn;let i=n.stateNode;return i.current=o,o.stateNode=i,o}function Le(){return d("div",{className:"App"},d(Pe,null))}var D=0;function Ie({task:e,createTodo:t}){let[n,o]=G((r,s)=>({...r,...s}),{task:""}),i=r=>{console.log(r.target.value),o({[r.target.name]:r.target.value})};return d("form",{className:"NewTodoForm",onSubmit:r=>{r.preventDefault();let s={id:D++,task:n.task,completed:!1};t(s),o({task:""})}},d("label",{htmlFor:"task"},"New todo"),d("input",{value:n.task,onChange:i,id:"task",type:"text",name:"task",placeholder:"New Todo"}),d("button",null,"Add Todo"))}function Xe({key:e,todo:t,remove:n,update:o,toggleComplete:i}){let[l,r]=v(!1),[s,p]=v(t.task),f=c=>{n(c)},g=c=>{console.log(c),r(!l)},u=c=>{c.preventDefault(),o(t.id,s),g()},h=c=>{p(c.target.value)},x=c=>{i(c.target.id)},E;return l?E=d("div",{className:"Todo"},d("form",{className:"Todo-edit-form",onSubmit:u},d("input",{onChange:h,value:s,type:"text"}),d("button",null,"Save"))):(console.log(t.id),E=d("div",{className:"Todo"},d("li",{id:t.id,onClick:x,className:t.completed?"Todo-task completed":"Todo-task"},t.task),d("div",{className:"Todo-buttons"},d("button",{onClick:g},"Edit"),d("button",{onClick:()=>f(t.id)},"DELETE")))),E}function Pe(){let[e,t]=v([{id:D++,task:"task 1",completed:!1},{id:D++,task:"task 2",completed:!0}]),n=s=>{t([...e,s])},o=s=>{t(e.filter(p=>p.id!==s))},i=(s,p)=>{let f=e.map(g=>g.id===s?{...g,task:p}:g);t(f)},l=s=>{let p=e.map(f=>f.id===s?{...f,completed:!f.completed}:f);t(p)},r=e.map(s=>d(Xe,{toggleComplete:l,update:i,remove:o,key:s.id,todo:s}));return d("div",{className:"TodoList"},d("h1",null,"Todo List ",d("span",null,"A simple React Todo List App")),d("ul",null,r),d(Ie,{createTodo:n}))}var oe=document.getElementById("root");oe&&ee(oe,d(Le,null));
