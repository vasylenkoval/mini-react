var h=[];var M=Symbol("propsCompareFn"),P="TEXT";function V(e,t=[]){for(let n of e){let o=typeof n;if(o==="object"&&n){Array.isArray(n)?V(n,t):t.push(n);continue}(o==="string"||o==="number")&&t.push({type:P,props:{nodeValue:n},children:h,key:null})}return t.length?t:h}function c(e,t,...n){let o=t??{},l=null;return n.length>0&&(l=V(n),o.children=l),{type:e,props:o,children:l,key:o.key!==void 0?o.key:null}}function ce(e){return e===P?document.createTextNode(""):document.createElement(e)}var ue="children",de="on",X=e=>e.startsWith(de),B=e=>e!==ue&&!X(e),U=e=>e.toLowerCase().substring(2),Y=e=>e==="className"?"class":e,ae=(e,t)=>e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t;function pe(e,t,n,o){if(t.nodeType===3){t.nodeValue!==n.nodeValue&&(t.nodeValue=n.nodeValue);return}let l=t;if(o){for(let r in o)if(!(r in n))if(B(r)){let s=Y(r);l.removeAttribute(s)}else X(r)&&l.removeEventListener(U(r),o[r])}for(let r in n){if(o&&n[r]===o[r])continue;let s=n[r];if(B(r)&&typeof s=="string"){let i=Y(r);ae(i,l)?l[i]=s:l.setAttribute(i,s)}else if(X(r)){let i=U(r);o&&o[r]&&l.removeEventListener(i,o[r]),l.addEventListener(i,n[r])}}l.__fiberRef=e}var w=globalThis.Node?.prototype,fe=w?.insertBefore,me=w?.removeChild,he=w?.appendChild;function ye(e,t){me.call(e,t)}function ge(e,t){he.call(e,t)}function be(e,t){e.replaceWith(t)}function Te(e,t,n){fe.call(e,t,n)}var q={createNode:ce,addProps:pe,removeChild:ye,appendChild:ge,replaceWith:be,insertBefore:Te};var p={hooks:[],notifyOnStateChange:()=>{},scheduleEffect:()=>{}},T=-1;function z(e,t,n){for(let o of e)o.type===0&&o.pending&&(o.value=o.pending.value,o.pending=void 0);p.hooks=e,p.notifyOnStateChange=t,p.scheduleEffect=n,T=-1}function E(e){T++;let t=p.hooks[T];if(t)return t.notify=p.notifyOnStateChange,[t.value,t.setter];let n={type:0,notify:p.notifyOnStateChange,value:typeof e=="function"?e():e,setter(o){let l=n.pending?n.pending.value:n.value,r=typeof o=="function"?o:void 0,s=r?r(l):o;s!==l&&(n.pending={value:s},n.notify())}};return p.hooks.push(n),[n.value,n.setter]}function G(e){let t;for(let n of e)n.type===1&&n.cleanup&&(t??(t=[])).push(n.cleanup);return t}function Q(e,t){let n=e();typeof n=="function"&&(t.cleanup=n)}function Ee(e,t){return!e||!t?!1:e.length===t.length&&(e.length===0||e.every((n,o)=>n===t[o]))}function K(e,t){T++;let n=p.scheduleEffect,o=p.hooks[T];if(o){Ee(t,o.deps)||(n(()=>Q(e,o),o.cleanup??null),o.deps=t);return}let l={type:1,deps:t};p.hooks.push(l),n(()=>Q(e,l),null)}function ke(e){T++;let t=p.hooks[T];if(t)return t.value;let n={type:2,value:{current:e}};return p.hooks.push(n),n.value}function Z(e,t,n){let o=ke({dispatch:void 0,initState:n?n(t):t}),[l,r]=E(o.current.initState);if(o.current.dispatch)return[l,o.current.dispatch];function s(i){r(y=>e(y,i))}return o.current.dispatch=s,[l,s]}function C(e){return e(ve)}function ve(){return 100}var ee="root",k,H=[],u,Fe,S=[],R=[],x=[],A=[],g=q,te=(e,t)=>!1;function _(){let e={key:null,children:h},t={parent:null,child:null,sibling:null,type:"",props:e,effectTag:0,old:null,isOld:!1,dom:null,stateNode:null,shouldPlace:!1,version:0,childElements:h,fromElement:{type:"",props:e,children:h,key:null},propsCompareFn:te};return t.stateNode={current:t,hooks:[]},t}function ne(e,t,n){n&&(g=n);let o=_();o.type=ee,o.dom=e,o.props={key:null,children:[t]},o.fromElement={type:"div",props:o.props,children:[t],key:null},u=o,k=o,C(O)}function Ce(e){H.includes(e)||(H.push(e),C(O))}function Se(e){return e.shouldPlace||e.effectTag!==3}function xe(){for(let e of S)Me(e);if(S=[],u){let e=u;for(;e;)Re(e),e=le(e,u,Se,e.effectTag===3);for(let t=A.length-1;t>=0;t--)A[t]();if(A.splice(0),u.type===ee)Fe=u;else{let t=u.old,n=u.parent,o=n.child;if(o===t)n.child=u;else for(;o;){if(o.sibling===t){o.sibling=u;break}o=o.sibling}}}u=null;for(let e=x.length-1;e>=0;e--)x[e]();x.splice(0);for(let e=R.length-1;e>=0;e--)R[e]();R.splice(0)}function J(e){return!!e.dom}function Ne(e){return typeof e.type!="string"}function Me(e){let t=e.dom??I(e,e,J)?.dom;t&&t.parentNode&&g.removeChild(t.parentNode,t);let n=e;for(;n;){if(n.stateNode.hooks.length){let o=G(n.stateNode.hooks);o&&x.push(...o.reverse())}n=I(n,e,Ne)}e.effectTag=2,e.isOld=!0,e.old=null,e.child=null,e.sibling=null,e.parent=null,e.dom=null,e.stateNode=null,e.childElements=h}function Re(e){if(e.shouldPlace){let n=e.dom??I(e,e,J)?.dom;n&&A.push(()=>{let o=e.sibling?e.sibling?.dom??I(e.sibling,e,J)?.dom??null:null;n.nextSibling!=o&&g.insertBefore(n.parentNode,n,o)})}if(!(e.dom&&e.parent)||e.effectTag===3)return;let t=e.parent;for(;!t.dom;)t=t.parent;if(e.effectTag===1&&g.addProps(e,e.dom,e.props,e.old?.props||null),e.effectTag===0){let n=t.dom,o=e.dom;g.appendChild(n,o)}}function oe(){if(!H.length)return null;let e=H.shift();if(e.isOld)return oe();let t=_();t.type=e.type,t.parent=e.parent,t.child=e.child,t.sibling=e.sibling,t.old=e,t.isOld=!1,t.dom=e.dom;let n=e.stateNode;return t.stateNode=n,n.current=t,t.effectTag=1,t.shouldPlace=!1,t.props=e.props,t.version=e.version+1,t.childElements=e.childElements,t.fromElement=e.fromElement,t.propsCompareFn=e.propsCompareFn,e.old=null,e.isOld=!0,t}function O(e){let t=!1;for(;k&&!t;)k=Oe(k),t=e()<1;!k&&u&&xe();let n=oe();if(n){u=n,k=u,C(O);return}u&&C(O)}function Ae(e){M in e.type&&e.type[M]&&(e.propsCompareFn=e.type[M]);let t,n,o=e.stateNode;z(o.hooks,function(){Ce(o.current)},function(s,i){(t??(t=[])).push(s),i&&(n??(n=[])).push(i)});let l=e.type(e.props);e.childElements=[l],t&&R.push(...t.reverse()),n&&x.push(...n.reverse())}function He(e){e.dom||(e.dom=g.createNode(e.type),g.addProps(e,e.dom,e.props,null)),e.childElements=e.fromElement.children??h}function Oe(e){return typeof e.type=="string"&&He(e),typeof e.type=="function"&&Ae(e),Pe(e,e.childElements),le(e,u,Ie)}function Ie(e){return e.effectTag!==3}function _e(){return!0}function le(e,t,n=_e,o=!1){if(!o&&e.child&&n(e.child))return e.child;let l=o?e:e.child??e;for(;l&&l!==t;){let r=l.sibling;for(;r;){if(n(r))return r;r=r.sibling}l=l.parent}return null}function $(e,t){let n=e;if(n.child)return n.child;for(;n&&n!==t;){let o=n.sibling;if(o)return o;n=n.parent}return null}function I(e,t,n){if(!e)return null;let o=$(e,t);for(;o;){if(n(o))return o;o=$(o,t)}return null}function Pe(e,t){if(!t.length&&e.dom&&e.parent&&e.old&&e.old.child){let d=e.old;S.push(d),e.old=null,e.effectTag=0,e.childElements=h,e.child=null,e.dom=g.createNode(e.type),g.addProps(e,e.dom,e.props,null);return}let n=e.old?.child??null,o=null,l=new Map,r=[],s=n,i=0;for(;s;){let d=s.fromElement.key??i;l.set(d,{fiber:s,oldListIdx:i}),r.push(s),s=s.sibling,i++}let y=!!n,m=[];for(let d=0;d<t.length;d++){let b=t[d],D=b.key??d,W=l.get(D),a=null;if(W){let{fiber:f,oldListIdx:se}=W;if(l.delete(D),f.type===b.type){if(a=Xe(b,e,f),m.push({fiber:a,oldListIdx:se}),f.fromElement===b||typeof b.type!="string"&&a.propsCompareFn?.(f.props,b.props)){a.effectTag=3,a.child=f.child;let N=f.child;for(;N;)N.parent=a,N=N.sibling}f.old=null,f.isOld=!0,f.sibling=null,f.parent=null}else S.push(f),a=j(b,e),a.shouldPlace=y}else a=j(b,e),a.shouldPlace=y;a&&(d===0?e.child=a:o.sibling=a,o=a)}if(l.forEach(d=>{S.push(d.fiber)}),!y)return;let v=m.map(d=>d.oldListIdx),F=we(v);for(let d of F)m[d].fiber.shouldPlace=!0}function j(e,t){let n=_();return n.type=e.type,n.parent=t,n.props=e.props,n.fromElement=e,n.effectTag=0,typeof e.type=="string"&&(n.propsCompareFn=te),n}function Xe(e,t,n){let o=_();o.type=e.type,o.parent=t,o.old=n,o.dom=n.dom,o.effectTag=1,o.props=e.props,o.version=n.version+1,o.fromElement=e,o.propsCompareFn=n.propsCompareFn;let l=n.stateNode;return l.current=o,o.stateNode=l,o}function we(e){let t=e.length,n=new Uint32Array(t),o=[];for(let i=0;i<t;i++){let y=e[i],m=0,v=o.length;for(;m<v;){let F=m+v>>>1;o[F]<y?m=F+1:v=F}m===o.length?o.push(y):o[m]=y,n[i]=m+1}let l=new Uint8Array(t),r=o.length;for(let i=t-1;i>=0&&r>0;i--)n[i]===r&&(l[i]=1,r--);let s=[];for(let i=0;i<t;i++)l[i]||s.push(i);return s}var re=document.getElementById("root"),ie=document.createElement("style");ie.textContent=`
    .title {
        color: #535bf2;
    }

    .app {
        padding: 20px;
    }

    .card {
        border: 1px solid rgba(82, 82, 89, 0.32);
        transition: border 0.1s;
        border-radius: 4px;
        padding: 0 20px 20px 20px;
        margin-bottom: 20px;
    }

    .card:hover {
        border: 1px solid #535bf2;
    }

    .card__title {
        cursor: pointer;
        font-size: 18px;
        font-weight: bold;
        border-bottom: 1px solid rgba(82, 82, 89, 0.24);
        padding: 10px;
        margin-bottom: 10px;
    }

    .card__title__arrow {
        transition: transform 0.2s;
        transform: rotate(0);
    }

    .card__title__arrow--up {
        transform: rotate(180deg);
    }

    .card__body {
        padding: 0 10px;
    }
`;document.head.appendChild(ie);var L=({children:e,title:t})=>{let[n,o]=E(!0);return c("div",{className:"card"},c("div",{className:"card__title",onClick:()=>o(l=>!l)},t),c("div",{className:"card__body"},n&&e))},Je=()=>{let[e,t]=E(0),[n,o]=E(!0);K(()=>{if(n)return;let r=setInterval(()=>t(s=>s+100),100);return()=>{clearInterval(r)}},[n]);let l=()=>{o(r=>!r)};return c(L,{title:"Timer"},c("div",{className:"flex"},c("p",null,"Timer: ",(e/1e3).toFixed(1)),c("button",{id:"stop",style:"margin-right:10px;",onClick:l},n?"Start timer":"Stop timer"," \u23F1")))},Le=(e,t)=>{if(t.type==="decrement"){if(e.count-1>=0)return{count:e.count-1}}else if(t.type==="increment")return{count:e.count+1};return{...e}},De={count:0},We=()=>{let[e,t]=E("John Doe"),[n,o]=E(33),[l,r]=Z(Le,De);return c("div",{className:"app",id:"test"},c("h1",{className:"title"},"Mini-React \u269B\uFE0F"),c(L,{title:"Counter"},c("p",null,"Count: ",l.count," "),c("div",{className:"flex"},c("button",{style:"margin-right:10px;",onClick:()=>r({type:"increment"})},"Up \u{1F446}"),c("button",{onClick:()=>r({type:"decrement"})},"Down \u{1F447}"))),c(Je,null),c(L,{title:"Inputs"},c("div",null,"Name: ",e),c("div",null,"Age: ",n),c("br",null),c("label",{style:"display: block",htmlFor:"name"},"Your name"),c("input",{value:e,style:"padding: 10px;",id:"name",onInput:s=>t(s.target.value)}),c("br",null),c("label",{style:"display: block",htmlFor:"age"},"Your age"),c("input",{value:+n,style:"padding: 10px;",type:"number",id:"age",onInput:s=>o(+s.target.value)})))};re&&ne(re,c(We,null));
