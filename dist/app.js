var p=[];var f=Symbol("propsCompareFn"),E="TEXT";function T(n,t=[]){for(let e of n){let o=typeof e;if(o==="object"&&e){Array.isArray(e)?T(e,t):t.push(e);continue}(o==="string"||o==="number")&&t.push({type:E,props:{nodeValue:e},children:p,key:null})}return t.length?t:p}function l(n,t,...e){let o=t??{},r=null;return e.length>0&&(r=T(e),o.children=r),{type:n,props:o,children:r,key:o.key!==void 0?o.key:null}}var m=globalThis.Node?.prototype,I=m?.insertBefore,U=m?.removeChild,W=m?.appendChild;var a={hooks:[],notifyOnStateChange:()=>{},scheduleEffect:()=>{}},c=-1;function N(n){c++;let t=a.hooks[c];if(t)return t.notify=a.notifyOnStateChange,[t.value,t.setter];let e={type:0,notify:a.notifyOnStateChange,value:typeof n=="function"?n():n,setter(o){let r=e.pending?e.pending.value:e.value,i=typeof o=="function"?o:void 0,s=i?i(r):o;s!==r&&(e.pending={value:s},e.notify())}};return a.hooks.push(e),[e.value,e.setter]}function R(n,t){return!n||!t?!1:n.length===t.length&&(n.length===0||n.every((e,o)=>e===t[o]))}function h(n,t){c++;let e=a.hooks[c];if(e)return R(t,e.deps)||(e.deps=t,e.value=n()),e.value;let o={type:3,deps:t,value:n()};return a.hooks.push(o),o.value}function x(n){c++;let t=a.hooks[c];if(t)return t.value;let e={type:2,value:{current:n}};return a.hooks.push(e),e.value}function k(n,t,e){let o=x({dispatch:void 0,initState:e?e(t):t}),[r,i]=N(o.current.initState);if(o.current.dispatch)return[r,o.current.dispatch];function s(u){i(S=>n(S,u))}return o.current.dispatch=s,[r,s]}function A(n,t){if(n===t)return!0;let e=Object.keys(n),o=Object.keys(t);if(e.length!==o.length)return!1;for(let r=0;r<e.length;r++){let i=e[r];if(n[i]!==t[i])return!1}return!0}function y(n,t=A){function e(o){return n(o)}return e[f]=t,e}var g=n=>Math.round(Math.random()*1e3)%n,v=["pretty","large","big","small","tall","short","long","handsome","plain","quaint","clean","elegant","easy","angry","crazy","helpful","mushy","odd","unsightly","adorable","important","inexpensive","cheap","expensive","fancy"],C=["red","yellow","blue","green","pink","brown","purple","brown","white","black","orange"],F=["table","chair","house","bbq","desk","car","pony","cookie","sandwich","burger","pizza","mouse","keyboard"],M=1,b=n=>{let t=new Array(n);for(let e=0;e<n;e++)t[e]={id:M++,label:`${v[g(v.length)]} ${C[g(C.length)]} ${F[g(F.length)]}`};return t},w={data:[],selected:0},O=(n,t)=>{let{data:e,selected:o}=n;switch(t.type){case"RUN":return{data:b(1e3),selected:0};case"RUN_LOTS":return{data:b(1e4),selected:0};case"ADD":return{data:e.concat(b(1e3)),selected:o};case"UPDATE":{let i=e.slice(0);for(let s=0;s<i.length;s+=10){let u=i[s];i[s]={id:u.id,label:u.label+" !!!"}}return{data:i,selected:o}}case"CLEAR":return{data:[],selected:0};case"SWAP_ROWS":let r=[...e];if(e.length>998){let i=r[1],s=r[998];r[1]=s,r[998]=i}return{data:r,selected:o};case"REMOVE":{let i=e.findIndex(s=>s.id===t.id);return{data:[...e.slice(0,i),...e.slice(i+1)],selected:o}}case"SELECT":return{data:e,selected:t.id};default:return n}},H=y(({selected:n,item:t,dispatch:e})=>l("tr",{className:n?"danger":""},l("td",{className:"col-md-1"},t.id),l("td",{className:"col-md-4"},l("a",{onClick:h(()=>()=>e({type:"SELECT",id:t.id}),[])},t.label)),l("td",{className:"col-md-1"},l("a",{onClick:h(()=>()=>e({type:"REMOVE",id:t.id}),[])},l("span",{className:"glyphicon glyphicon-remove","aria-hidden":"true"}))),l("td",{className:"col-md-6"})),(n,t)=>n.selected===t.selected&&n.item===t.item),d=({id:n,cb:t,title:e})=>l("div",{className:"col-sm-6 smallpad"},l("button",{type:"button",className:"btn btn-primary btn-block",id:n,onClick:t},e)),P=y(({dispatch:n})=>l("div",{className:"jumbotron"},l("div",{className:"row"},l("div",{className:"col-md-6"},l("h1",null,"React Hooks keyed")),l("div",{className:"col-md-6"},l("div",{className:"row"},l(d,{id:"run",title:"Create 1,000 rows",cb:()=>n({type:"RUN"})}),l(d,{id:"runlots",title:"Create 10,000 rows",cb:()=>n({type:"RUN_LOTS"})}),l(d,{id:"add",title:"Append 1,000 rows",cb:()=>n({type:"ADD"})}),l(d,{id:"update",title:"Update every 10th row",cb:()=>n({type:"UPDATE"})}),l(d,{id:"clear",title:"Clear",cb:()=>n({type:"CLEAR"})}),l(d,{id:"swaprows",title:"Swap Rows",cb:()=>n({type:"SWAP_ROWS"})}))))),()=>!0),be=({dispatchRef:n})=>{let[{data:t,selected:e},o]=k(O,w);return n.current=o,l("div",{className:"container"},l(P,{dispatch:o}),l("table",{className:"table table-hover table-striped test-data"},l("tbody",null,t.map(r=>l(H,{key:r.id,item:r,selected:e===r.id,dispatch:o})))),l("span",{className:"preloadicon glyphicon glyphicon-remove","aria-hidden":"true"}))};export{be as BenchMain};
